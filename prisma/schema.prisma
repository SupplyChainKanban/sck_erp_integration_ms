generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model ERPOrder {
  id             String         @id @default(uuid())
  orderId        String
  erpOrderID     String
  status         ERPOrderStatus @default(inProcess)
  quantity       Float?
  purchaseDate   DateTime?
  feedback       String?
  createdAt      DateTime       @default(now())
  updateAt       DateTime       @updatedAt
  materialID     String
  integrationLog ERPLog[]
}

model ERPLog {
  id         String   @id @default(uuid())
  erpOrderId String
  action     String
  response   String?
  createdAt  DateTime @default(now())
  erpOrder   ERPOrder @relation(fields: [erpOrderId], references: [id])
}

enum ERPOrderStatus {
  inProcess
  Completed
  Failed
}
